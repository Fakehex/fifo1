{% extends 'base.html.twig' %}

{% block title %}Accueil{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fullcalendar/core@4.1.0/main.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fullcalendar/daygrid@4.1.0/main.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fullcalendar/timegrid@4.1.0/main.min.css">
{% endblock %}

{% block body %}

  <div class="container mt-5 mb-5">

    <div id="carouselExampleIndicators" class="carousel slide mb-5" data-ride="carousel">
      <ol class="carousel-indicators">
        <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
      </ol>
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img class="d-block w-100 rounded" src="uploads/carousel/carousel1.jpg"  alt="First slide">
          <div class="carousel-caption d-none d-md-block">
            <h5>Evenement</h5>
            <p>On organise des evenements seulement pour vous !</p>
            <a class="btn btn-primary" href="{{ path('evenements')}}">Evenement</a>
          </div>
        </div>
        <div class="carousel-item">
          <img class="d-block w-100 rounded" src="uploads/carousel/carousel2.jpg"  alt="Second slide">
          <div class="carousel-caption d-none d-md-block">
            <h5>Archives</h5>
            <p>Tu as besoin d'entrainement pour les examens ? récupère les archives d'exams et bosse comme jaja</p>
            <a class="btn btn-primary" href="{{ path('page_archives')}}">Archives</a>
          </div>
        </div>
        <div class="carousel-item">
          <img class="d-block w-100 rounded img-fluid" src="uploads/carousel/carousel3.jpg"  alt="Third slide">
          <div class="carousel-caption d-none d-md-block">
            <h5>Forum</h5>
            <p>Tu as besoin d'aide, un sujet de discussion intéressant ? Viens en parler avec nous sur le forum ! </p>
            <a class="btn btn-primary" href="{{ path('forum')}}">Forum</a>
          </div>
        </div>
      </div>
      <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>

    <div class="row">
      <div class="float-sm-none col-sm-6">
          <p>Etes vous prets ? car voila les choses tel que je le voie, la terre n'est plus en etat de mesure de nous supporter, les ressources se meurent, les animaux se font plus rares et les insectes nous casse les couilles. Alors amusant nous grace a ce magnifique calendrier developpé par le meilleur de la fac de l'université du mucus chaud ! Associativement votre. </p>
      </div>
      <div class="float-sm-left col-sm-6 mb-5">
        {% include '@Calendar/calendar.html' %}
      </div>
    </div>

  </div>

{% endblock %}




{% block javascripts %}
    {{ parent() }}
    <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/core@4.1.0/main.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/interaction@4.1.0/main.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/daygrid@4.1.0/main.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/timegrid@4.1.0/main.min.js"></script>

    <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', () => {
            var calendarEl = document.getElementById('calendar-holder');

            var calendar = new FullCalendar.Calendar(calendarEl, {
                defaultView: 'dayGridMonth',
                editable: true,
                eventSources: [
                    {
                        url: "{{ path('fc_load_events') }}",
                        method: "POST",
                        extraParams: {
                            filters: JSON.stringify({})
                        },
                        failure: () => {
                            // alert("There was an error while fetching FullCalendar!");
                        },
                    },
                ],
                header: {
                    left: 'prev,next today',
                    center: 'title',
                    right: 'dayGridMonth,timeGridWeek,timeGridDay',
                },
                plugins: [ 'interaction', 'dayGrid', 'timeGrid' ], // https://fullcalendar.io/docs/plugin-index
                timeZone: 'UTC',
            });
            calendar.render();
        });
    </script>
{% endblock %}
